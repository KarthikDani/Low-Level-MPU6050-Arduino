\doxysection{Main Sketch}
\hypertarget{group__main__sketch}{}\label{group__main__sketch}\index{Main Sketch@{Main Sketch}}


The setup and loop functions for the Arduino program.  


\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group__main__sketch_ga4fc01d736fe50cf5b977f755b675f11d}{setup}} ()
\begin{DoxyCompactList}\small\item\em The setup function, called once at the start of the program. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__main__sketch_gafe461d27b9c48d5921c00d521181f12f}{loop}} ()
\begin{DoxyCompactList}\small\item\em The main loop, which runs repeatedly after setup. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The setup and loop functions for the Arduino program. 



\doxysubsection{Function Documentation}
\Hypertarget{group__main__sketch_gafe461d27b9c48d5921c00d521181f12f}\label{group__main__sketch_gafe461d27b9c48d5921c00d521181f12f} 
\index{Main Sketch@{Main Sketch}!loop@{loop}}
\index{loop@{loop}!Main Sketch@{Main Sketch}}
\doxysubsubsection{\texorpdfstring{loop()}{loop()}}
{\footnotesize\ttfamily void loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



The main loop, which runs repeatedly after setup. 

It continuously reads accelerometer, gyroscope, and temperature data from the MPU6050, converts it to engineering units (g\textquotesingle{}s, dps, and Celsius), and prints the results to the serial monitor every 100 milliseconds. 

Definition at line \mbox{\hyperlink{low__level__mpu6050__interfacing_8ino_source_l00498}{498}} of file \mbox{\hyperlink{low__level__mpu6050__interfacing_8ino_source}{low\+\_\+level\+\_\+mpu6050\+\_\+interfacing.\+ino}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00499\ \ \ \mbox{\hyperlink{structaccel__float__data__t}{accel\_float\_data\_t}}\ accel\_g;}
\DoxyCodeLine{00500\ \ \ \mbox{\hyperlink{structgyro__float__data__t}{gyro\_float\_data\_t}}\ gyro\_dps;}
\DoxyCodeLine{00501\ \ \ \mbox{\hyperlink{structtemp__float__data__t}{temp\_float\_data\_t}}\ temp\_c;}
\DoxyCodeLine{00502\ }
\DoxyCodeLine{00503\ \ \ \textcolor{comment}{//\ Read\ the\ latest\ sensor\ data\ and\ convert\ to\ float\ values.}}
\DoxyCodeLine{00504\ \ \ \mbox{\hyperlink{group__mpu6050__driver_gae6818ef9d99e8293c55b0e2ae12a4bc9}{mpu6050\_read\_accel\_g}}(\&accel\_g);}
\DoxyCodeLine{00505\ \ \ \mbox{\hyperlink{group__mpu6050__driver_ga7b86e12141f8e0f7e45864785e048ff4}{mpu6050\_read\_gyro\_dps}}(\&gyro\_dps);}
\DoxyCodeLine{00506\ \ \ \mbox{\hyperlink{group__mpu6050__driver_ga803e1e65c21c5b78c99210afee6c8044}{mpu6050\_read\_temp\_celsius}}(\&temp\_c);}
\DoxyCodeLine{00507\ }
\DoxyCodeLine{00508\ \ \ \textcolor{comment}{//\ Print\ the\ converted\ sensor\ data\ to\ the\ Serial\ Monitor.}}
\DoxyCodeLine{00509\ \ \ Serial.print(\textcolor{stringliteral}{"{}Accel:\ "{}});}
\DoxyCodeLine{00510\ \ \ Serial.print(\textcolor{stringliteral}{"{}X="{}});}
\DoxyCodeLine{00511\ \ \ Serial.print(accel\_g.\mbox{\hyperlink{structaccel__float__data__t_ad332b06a0c8851338f01d2c32688c9f0}{x}});}
\DoxyCodeLine{00512\ \ \ Serial.print(\textcolor{stringliteral}{"{}g,\ Y="{}});}
\DoxyCodeLine{00513\ \ \ Serial.print(accel\_g.\mbox{\hyperlink{structaccel__float__data__t_a3735ba6870821476e506873601e2a716}{y}});}
\DoxyCodeLine{00514\ \ \ Serial.print(\textcolor{stringliteral}{"{}g,\ Z="{}});}
\DoxyCodeLine{00515\ \ \ Serial.print(accel\_g.\mbox{\hyperlink{structaccel__float__data__t_a8aacea966ced911d504261ecb3f953ab}{z}});}
\DoxyCodeLine{00516\ \ \ Serial.print(\textcolor{stringliteral}{"{}g"{}});}
\DoxyCodeLine{00517\ }
\DoxyCodeLine{00518\ \ \ Serial.print(\textcolor{stringliteral}{"{}\ |\ Gyro:\ "{}});}
\DoxyCodeLine{00519\ \ \ Serial.print(\textcolor{stringliteral}{"{}X="{}});}
\DoxyCodeLine{00520\ \ \ Serial.print(gyro\_dps.\mbox{\hyperlink{structgyro__float__data__t_aeece2f6f1e411a60ea7f82a2d8cfe6f3}{x}});}
\DoxyCodeLine{00521\ \ \ Serial.print(\textcolor{stringliteral}{"{}dps,\ Y="{}});}
\DoxyCodeLine{00522\ \ \ Serial.print(gyro\_dps.\mbox{\hyperlink{structgyro__float__data__t_aeb79091bd2205bee812f5a74d0423c4d}{y}});}
\DoxyCodeLine{00523\ \ \ Serial.print(\textcolor{stringliteral}{"{}dps,\ Z="{}});}
\DoxyCodeLine{00524\ \ \ Serial.print(gyro\_dps.\mbox{\hyperlink{structgyro__float__data__t_aa66ac75a9c10ef2bd128d18097f6bda5}{z}});}
\DoxyCodeLine{00525\ \ \ Serial.print(\textcolor{stringliteral}{"{}dps"{}});}
\DoxyCodeLine{00526\ \ \ }
\DoxyCodeLine{00527\ \ \ Serial.print(\textcolor{stringliteral}{"{}\ |\ Temp:\ "{}});}
\DoxyCodeLine{00528\ \ \ Serial.print(temp\_c.\mbox{\hyperlink{structtemp__float__data__t_a690eebced6bdb08517b937f9ccc14b1c}{c}});}
\DoxyCodeLine{00529\ \ \ Serial.println(\textcolor{stringliteral}{"{}\ C"{}});}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00531\ \ \ \textcolor{comment}{//\ Wait\ a\ bit\ before\ the\ next\ reading\ to\ not\ flood\ the\ serial\ monitor.}}
\DoxyCodeLine{00532\ \ \ delay(100);}
\DoxyCodeLine{00533\ \}}

\end{DoxyCode}
\Hypertarget{group__main__sketch_ga4fc01d736fe50cf5b977f755b675f11d}\label{group__main__sketch_ga4fc01d736fe50cf5b977f755b675f11d} 
\index{Main Sketch@{Main Sketch}!setup@{setup}}
\index{setup@{setup}!Main Sketch@{Main Sketch}}
\doxysubsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily void setup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



The setup function, called once at the start of the program. 

It initializes the serial monitor, sets up the I2C pins, and verifies communication with the MPU6050 sensor by checking its WHO\+\_\+\+AM\+\_\+I register. 

Definition at line \mbox{\hyperlink{low__level__mpu6050__interfacing_8ino_source_l00464}{464}} of file \mbox{\hyperlink{low__level__mpu6050__interfacing_8ino_source}{low\+\_\+level\+\_\+mpu6050\+\_\+interfacing.\+ino}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00465\ \ \ Serial.begin(115200);}
\DoxyCodeLine{00466\ \ \ \textcolor{keywordflow}{while}\ (!Serial);\ \textcolor{comment}{//\ Wait\ for\ the\ Serial\ port\ to\ connect.}}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \ \ \textcolor{comment}{//\ Set\ the\ SCL\ and\ SDA\ pins\ as\ outputs\ initially,\ and\ then\ let\ the}}
\DoxyCodeLine{00469\ \ \ \textcolor{comment}{//\ I2C\ functions\ manage\ them.}}
\DoxyCodeLine{00470\ \ \ pinMode(\mbox{\hyperlink{group__i2c__bit__banging_ga2cade698267beb86ccaa38c14d35ab0f}{I2C\_SDA\_PIN}},\ OUTPUT);}
\DoxyCodeLine{00471\ \ \ pinMode(\mbox{\hyperlink{group__i2c__bit__banging_ga0e4e08bab2fb484136d18b067bef372c}{I2C\_SCL\_PIN}},\ OUTPUT);}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \textcolor{comment}{//\ Initialize\ the\ MPU6050.}}
\DoxyCodeLine{00474\ \ \ \textcolor{comment}{//\ The\ sensor\ starts\ in\ sleep\ mode,\ so\ we\ need\ to\ wake\ it\ up.}}
\DoxyCodeLine{00475\ \ \ \textcolor{comment}{//\ We'll\ write\ a\ 0\ to\ the\ PWR\_MGMT\_1\ register\ to\ wake\ it\ up.}}
\DoxyCodeLine{00476\ \ \ \mbox{\hyperlink{group__mpu6050__driver_ga4fc83ca86f303a8dc5d181b7c0789dc1}{mpu6050\_write\_register}}(\mbox{\hyperlink{group__mpu6050__driver_gac8e6174d5a02ed531329494959e57304}{MPU6050\_PWR\_MGMT\_1\_REG}},\ 0);}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00478\ \ \ \textcolor{comment}{//\ Verify\ the\ MPU6050\ is\ connected\ by\ reading\ the\ WHO\_AM\_I\ register.}}
\DoxyCodeLine{00479\ \ \ \textcolor{comment}{//\ It\ should\ return\ 0x68.}}
\DoxyCodeLine{00480\ \ \ uint8\_t\ who\_am\_i\ =\ \mbox{\hyperlink{group__mpu6050__driver_ga1e638f29b9df6e977fdf1f7222bc9ee4}{mpu6050\_read\_register}}(\mbox{\hyperlink{group__mpu6050__driver_ga7292e8b450174614ce5bd411ec98ac56}{MPU6050\_WHO\_AM\_I\_REG}});}
\DoxyCodeLine{00481\ \ \ \textcolor{keywordflow}{if}\ (who\_am\_i\ !=\ \mbox{\hyperlink{group__mpu6050__driver_ga6a26d06d2f863deedd849612a6c2a4e4}{MPU6050\_ADDRESS}})\ \{}
\DoxyCodeLine{00482\ \ \ \ \ Serial.print(\textcolor{stringliteral}{"{}MPU6050\ not\ found!\ WHO\_AM\_I\ returned:\ 0x"{}});}
\DoxyCodeLine{00483\ \ \ \ \ Serial.println(who\_am\_i,\ HEX);}
\DoxyCodeLine{00484\ \ \ \ \ \textcolor{keywordflow}{while}\ (1);\ \textcolor{comment}{//\ Halt\ the\ program\ if\ the\ sensor\ is\ not\ found.}}
\DoxyCodeLine{00485\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00486\ \ \ \ \ Serial.println(\textcolor{stringliteral}{"{}MPU6050\ found\ and\ initialized\ successfully."{}});}
\DoxyCodeLine{00487\ \ \ \}}
\DoxyCodeLine{00488\ \}}

\end{DoxyCode}
